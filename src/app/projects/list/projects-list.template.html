<main-header>
  <div class="main-header-title">Projects</div>
  <div class="main-header-content" style="display: flex">
    <div class="rounded-button">
      <button uiSref=".project-edit" [uiParams]="{ projectId: '_new' }">
        <i class="fa fa-plus" aria-hidden="true"></i>
      </button>
    </div>
  </div>
</main-header>

<div style="overflow: auto;height: 100%">
  <div *ngIf="projects.length == 0"
       fxLayout="column"
       fxLayoutAlign="center center">
    <h5>Sorry... No results found</h5>
    <img md-card-image src="assets/img/sad-face.png">
  </div>
  <div fxLayout="row" fxLayoutWrap style="overflow: auto;width: 100%">
    <md-card *ngFor="let project of projects" fxFlex="auto" style="margin: 5px;width: 320px;">
      <md-card-header>
        <img md-card-avatar src="assets/img/no-picture-icon.png">
        <md-card-title>
          <a (click)="show(project.id); addVisit(project.id)" role="button">
            <h5>{{project.title}}</h5>
          </a>
        </md-card-title>
        <md-card-subtitle>
          <h6 style="font-size: 0.9rem;">Created {{project.createdDate | amTimeAgo }}</h6>
        </md-card-subtitle>
      </md-card-header>
      <md-card-content>
        <p>{{project.description}}</p>
      </md-card-content>
      <md-card-actions>
        <button md-button (click)="edit(project)">
          <i class="fa fa-pencil" aria-hidden="true"></i> EDIT
        </button>
        <button md-button (click)="toggleFavorite(project)">
          <i [ngClass]="{'fa fa-star favorite': project.isFavorite, 'fa fa-star-o': !project.isFavorite}"
             aria-hidden="true"></i> FAVORITE
        </button>
      </md-card-actions>
    </md-card>
  </div>
</div>
