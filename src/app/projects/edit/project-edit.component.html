<main-header>
  <div class="main-header-title">Project {{project.title}}</div>
  <div class="main-header-content" style="display: flex">
    <div>
      <button (click)="save()" md-raised-button color="primary">
        <i class="fa fa-save" aria-hidden="true"></i> Save
      </button>
      <button uiSref="^" md-raised-button color="warn">
        <i class="fa fa-ban" aria-hidden="true"></i> Cancel
      </button>
    </div>
  </div>
</main-header>


<div style="overflow: auto;height: 100%">
  <div fxLayout="column" style="overflow: auto;width: 100%">
    <form name="requirementForm" ng-submit="save()">

      <div fxLayout="row">
        <div fxFlex="60%" class="panel">
          <div class="panel-heading">
            <h6>General</h6>
          </div>
          <div class="panel-body col-md-12">
            <div class="form-group"><label class="col-sm-2 control-label text-right"><h6>Title</h6></label>
              <div class="col-sm-10">
                <input class="form-control" required [(ngModel)]="project.title" name="title" type="text">
              </div>
            </div>
            <div class="form-group"><label class="col-sm-2 control-label text-right"><h6>Description</h6></label>
              <div class="col-sm-10">
                <input class="form-control" required [(ngModel)]="project.description" name="description" type="text" style="height: 100px">
              </div>
            </div>

            <div class="form-group"><label class="col-sm-2 control-label text-right"><h6>Manager</h6></label>
              <div class="col-sm-10">
                <!--<input class="form-control" required [(ngModel)]="project.manager.username" name="description" type="text">-->

                <select [(ngModel)]="project.manager" name="manager">
                  <option *ngFor="let user of availableUsers" [ngValue]="user">{{user.username}}</option>
                </select>

                <input class="form-control" name="Manager" type="text">
              </div>
            </div>
          </div>
        </div>
        <div fxFlex="40%" fxLayout="column">
          <div class="panel">
            <div class="panel-heading">
              <h6>Authorized Users</h6>
            </div>
            <div class="panel-content">
              <div class="col-md-12" style="margin-bottom: 25px;">
                <ng2-completer
                    [(ngModel)]="authorizedUserUsername"
                    [dataService]="dataService"
                    [minSearchLength]="0"
                    [ngModelOptions]="{standalone: true}"
                    [placeholder]="'Add user...'"
                    [clearSelected]=true
                    (selected)="authorizeUser($event)"
                ></ng2-completer>
              </div>
              <div *ngFor="let user of project.authorizedUsers" class="col-md-12">
                <h6>{{user.firstName}} {{user.lastName}}</h6>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>
